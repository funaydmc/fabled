import{A as He,D as we,z as Ce,C as Ie,p as ke,L as $e,a as Ge,y as ye,T as Se,Q as r,a7 as Oe,a8 as O,o as Je,I as le,K as ce,E as Ve,a9 as ee,R as M,aa as Xe,ab as j,ac as Ze,ad as xe,c as et,F as je,B as tt,b as at}from"../chunks/components.svelte.BLAcNRp6.js";import{g as Te,b as lt}from"../chunks/entry.DWaC4Eoa.js";import{r as Ee,C as te}from"../chunks/Control.CEdlSA6R.js";import{s as Ae,a as k,t as x,c as fe,d as Le,e as pe,b as ae,i as de,h as st}from"../chunks/disclose-version.CxdF3O1R.js";import{f as D,g as R,s,q as g,i as B,w as K,t as E,j as T,r as $,k as _e,F as ge,ab as Ke,$ as ot}from"../chunks/utils.D8-vZWAN.js";import{p as H,o as rt,d as nt,a as F,b as be}from"../chunks/index-client.DWdqsBsZ.js";import{b as it}from"../chunks/select.D9PJ4zMY.js";const ut=!1;async function dt({params:v}){const l=v.id,a=v.type==="skill";let o,t;switch(v.type){case"skill":for(const e of Te(Ce.skills))if(t||(t=e),e.name==l){o=e;break}break;case"attribute":for(const e of Te(we.attributes))if(t||(t=e),e.name==l){o=e;break}break;default:for(const e of Te(He.classes))if(t||(t=e),e.name==l){o=e;break}break}if(o){let e=!1;if(!o.loaded){let n;if(o.location==="local")if(o instanceof Ie){const i=localStorage.getItem("attribs")||"";i.split(`
`).length>2||i.charAt(0)=="{"?n=ke(i):n={}}else e=!0,n=ke(localStorage.getItem(`sapi.${a?"skill":"class"}.${o.name}`)||"");else{let i;v.type=="class"?i=await $e.getClassYaml(o.name):v.type==="skill"?i=await $e.getSkillYaml(o.name):i=await $e.getAttributeYaml(),n=ke(i)}n&&Object.keys(n).length>0&&(o instanceof Ie?o.load(n[o.name]):o.load(Object.values(n)[0])),e&&a&&o.postLoad()}switch(e&&!a&&ct(o),Ge.set(o),v.type){case"skill":ye.set(Se.SKILLS);break;case"attribute":ye.set(Se.ATTRIBUTES);break;default:ye.set(Se.CLASSES);break}return{data:o}}else t?Ee(302,`/${v.type}/${t.name}`):Ee(302,"/")}const ct=v=>{for(const l of we.getAttributeNames())v.attributes.find(a=>a.name===l)||v.attributes.push({name:l,base:0,scale:0})},Yt=Object.freeze(Object.defineProperty({__proto__:null,load:dt,ssr:ut},Symbol.toStringTag,{value:"Module"}));var vt=x("<!> <!> <!>",1);function We(v,l){D(l,!0);const a=Ae(),o=()=>fe(Je,"$activeType",a);let t=H(l,"icon",15);var e=vt(),n=R(e);r(n,{label:"Icon",get tooltip(){return`[icon] The item that represents the ${o()??""} in GUIs`},children:(d,_)=>{Oe(d,{get selected(){return t().material},set selected(b){t(t().material=b,!0)}})},$$slots:{default:!0}});var i=s(n,2);r(i,{label:"CustomModelData",type:"number",intMode:!0,get tooltip(){return`[icon-data] The CustomModelData of the item that represents the ${o()??""} in GUIs`},get value(){return t().customModelData},set value(d){t(t().customModelData=d,!0)}});var m=s(i,2),u=K(()=>"[icon-lore]"+o()=="class"?"The item's lore description":'The description shown for the item in skill trees. Include values of mechanics such as damage dealt using their "Icon Key" values');r(m,{label:"Icon Lore",get tooltip(){return g(u)},children:(d,_)=>{O(d,{get value(){return t().lore},set value(b){t(t().lore=b,!0)}})},$$slots:{default:!0}}),k(v,e),B()}var ht=x('<div class="entry svelte-wejg12" tabindex="0" role="menuitem"> </div>'),mt=x('<div class="input svelte-wejg12"></div>');function bt(v,l){let a=H(l,"value",15,273);var o=mt();le(o,21,()=>l.data,ce,(t,e,n)=>{var i=ht();i.__click=()=>a(a()^Math.pow(2,n));const m=K(()=>a()&Math.pow(2,n));E(()=>Ve(i,"selected",g(m)));var u=T(i,!0);$(i),E(()=>ae(u,g(e))),pe("keypress",i,d=>{d.key==="Enter"&&a(a()^Math.pow(2,n))}),k(t,i)}),$(o),k(v,o)}Le(["click"]);var ft=x('<select id="skill-tree"><option>Custom</option><option>Requirement</option><option>Basic Horizontal</option><option>Basic Vertical</option><option>Level Horizontal</option><option>Level Vertical</option><option>Flood</option></select>'),pt=(v,l)=>ge(l,!g(l)),gt=x(`<div class="info svelte-1v5246t">These are the materials that can be used as combo starters. If a material is not in the list, it
			cannot be used as a combo starter. If the list is inverted, then the materials in the list cannot be used as combo
			starters</div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>`,1),_t=x('<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="info svelte-1v5246t">Drag & Drop your attributes file to use your custom attributes</div> <!> <!> <!> <!> <!> <!> <div class="header combos svelte-1v5246t" role="button" tabindex="0">Combo Starters <span class="material-symbols-rounded"> </span></div> <!>',1);function kt(v,l){D(l,!0);const a=Ae(),o=()=>fe(m,"$classes",a),t=()=>fe(u,"$skills",a);let e=H(l,"data",15),n=Ke(!1),i;const m=He.classes,u=Ce.skills;rt(()=>{i=we.attributes.subscribe(b=>{const w=[];e(e().attributes=e().attributes.filter(C=>b.some(y=>y.name===C.name)?(w.push(C.name),!0):!1),!0);for(const C of b.filter(y=>!w.includes(y.name)))e().attributes.push({name:C.name,base:0,scale:0})})}),nt(()=>{i&&i()}),_e(()=>{var b;return(b=l.onsave)==null?void 0:b.call(l)});var d=de(),_=R(d);F(_,e,b=>{var w=_t(),C=R(w);r(C,{label:"Name",tooltip:"The name of the class. This should not contain color codes",get value(){return e().name},set value(c){e(e().name=c,!0)}});var y=s(C,2);r(y,{label:"Prefix",tooltip:"The prefix given to players who profess as the class which can contain color codes",get value(){return e().prefix},set value(c){e(e().prefix=c,!0)}});var S=s(y,2);r(S,{label:"Action Bar",tooltip:"The format for the action bar. Leave blank to use the default formatting",get value(){return e().actionBar},set value(c){e(e().actionBar=c,!0)}});var z=s(S,2);r(z,{label:"Group",tooltip:'A class group are things such as "race", "class", and "trade". Different groups can be professed through at the same time, one class from each group',get value(){return e().group},set value(c){e(e().group=c,!0)}});var Q=s(z,2);r(Q,{label:"Mana Name",tooltip:"The name the class uses for mana",get value(){return e().manaName},set value(c){e(e().manaName=c,!0)}});var V=s(Q,2);r(V,{label:"Max Level",tooltip:"The maximum level the class can reach. If this class turns into other classes, this will also be the level it can profess into those classes",get value(){return e().maxLevel},set value(c){e(e().maxLevel=c,!0)}});var U=s(V,2);r(U,{label:"Parent",tooltip:"The class that turns into this one. For example, if Fighter turns into Knight, then Knight would have its parent as Fighter",children:(c,L)=>{var I=K(()=>o().filter(W=>W!==e()));ee(c,{id:"parent",get data(){return g(I)},get selected(){return e().parent},set selected(W){e(e().parent=W,!0)}})},$$slots:{default:!0}});var se=s(U,2),ve=K(()=>`Whether the class requires a permission to be professed as. The permission would be "skillapi.class.${e().name.toLowerCase()??""}"`);r(se,{label:"Permission",get tooltip(){return g(ve)},children:(c,L)=>{M(c,{get data(){return e().permission},set data(I){e(e().permission=I,!0)}})},$$slots:{default:!0}});var oe=s(se,2);r(oe,{label:"Exp Sources",tooltip:'The experience sources the class goes up from. Most of these only work if "use-exp-orbs" is enabled in the config.yml',children:(c,L)=>{bt(c,{data:Xe,get value(){return e().expSources},set value(I){e(e().expSources=I,!0)}})},$$slots:{default:!0}});var re=s(oe,2);r(re,{label:"Health",tooltip:"The amount of health the class has",children:(c,L)=>{j(c,{get value(){return e().health}})},$$slots:{default:!0}});var ne=s(re,2);r(ne,{label:"Mana",tooltip:"The amount of mana the class has",children:(c,L)=>{j(c,{get value(){return e().mana}})},$$slots:{default:!0}});var he=s(ne,4);le(he,17,()=>e().attributes,c=>c.name,(c,L)=>{var I=K(()=>Ze(g(L).name));r(c,{get label(){return g(I)},get tooltip(){return`The amount of ${g(L).name??""} the class has`},children:(W,Y)=>{j(W,{get value(){return g(L)}})},$$slots:{default:!0}})});var h=s(he,2);r(h,{label:"Mana Regen",tooltip:"The amount of mana the class regenerates at each interval. The interval is in the config.yml and by default is once every second. If you want to regen a decimal amount per second, increase the interval",get value(){return e().manaRegen},set value(c){e(e().manaRegen=c,!0)}});var q=s(h,2);r(q,{label:"Skill Tree",tooltip:"The type of skill tree to use",children:(c,L)=>{var I=ft(),W=T(I);W.value=(W.__value="Custom")==null?"":"Custom";var Y=s(W);Y.value=(Y.__value="Requirement")==null?"":"Requirement";var G=s(Y);G.value=(G.__value="Basic Horizontal")==null?"":"Basic Horizontal";var J=s(G);J.value=(J.__value="Basic Vertical")==null?"":"Basic Vertical";var X=s(J);X.value=(X.__value="Level Horizontal")==null?"":"Level Horizontal";var Z=s(X);Z.value=(Z.__value="Level Vertical")==null?"":"Level Vertical";var ue=s(Z);ue.value=(ue.__value="Flood")==null?"":"Flood",$(I),it(I,()=>e().skillTree,me=>e(e().skillTree=me,!0)),k(c,I)},$$slots:{default:!0}});var P=s(q,2);r(P,{label:"Skills",tooltip:"The skills the class is able to use",children:(c,L)=>{ee(c,{id:"skills",get data(){return t()},multiple:!0,get selected(){return e().skills},set selected(I){e(e().skills=I,!0)},placeholder:"No Skills"})},$$slots:{default:!0}});var N=s(P,2);We(N,{get icon(){return e().icon},set icon(c){e(e().icon=c,!0)}});var Re=s(N,2);r(Re,{label:"Unusable items",tooltip:"[blacklist] The types of items that the class cannot use",children:(c,L)=>{Oe(c,{multiple:!0,get selected(){return e().unusableItems},set selected(I){e(e().unusableItems=I,!0)}})},$$slots:{default:!0}});var ie=s(Re,2);ie.__click=[pt,n];var qe=s(T(ie)),Qe=T(qe,!0);$(qe),$(ie);var Ue=s(ie,2);F(Ue,()=>g(n),c=>{var L=gt(),I=s(R(L),2);r(I,{label:"L Inverted",tooltip:"Whether the L list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().lInverted},set data(p){e(e().lInverted=p,!0)}})},$$slots:{default:!0}});var W=s(I,2);r(W,{label:"L Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().lWhitelist},set value(p){e(e().lWhitelist=p,!0)}})},$$slots:{default:!0}});var Y=s(W,2);r(Y,{label:"R Inverted",tooltip:"Whether the R list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().rInverted},set data(p){e(e().rInverted=p,!0)}})},$$slots:{default:!0}});var G=s(Y,2);r(G,{label:"R Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().rWhitelist},set value(p){e(e().rWhitelist=p,!0)}})},$$slots:{default:!0}});var J=s(G,2);r(J,{label:"LS Inverted",tooltip:"Whether the LS list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().lsInverted},set data(p){e(e().lsInverted=p,!0)}})},$$slots:{default:!0}});var X=s(J,2);r(X,{label:"LS Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().lsWhitelist},set value(p){e(e().lsWhitelist=p,!0)}})},$$slots:{default:!0}});var Z=s(X,2);r(Z,{label:"RS Inverted",tooltip:"Whether the RS list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().rsInverted},set data(p){e(e().rsInverted=p,!0)}})},$$slots:{default:!0}});var ue=s(Z,2);r(ue,{label:"RS Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().rsWhitelist},set value(p){e(e().rsWhitelist=p,!0)}})},$$slots:{default:!0}});var me=s(ue,2);r(me,{label:"S Inverted",tooltip:"Whether the S list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().rsInverted},set data(p){e(e().rsInverted=p,!0)}})},$$slots:{default:!0}});var Me=s(me,2);r(Me,{label:"S Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().rsWhitelist},set value(p){e(e().rsWhitelist=p,!0)}})},$$slots:{default:!0}});var Fe=s(Me,2);r(Fe,{label:"P Inverted",tooltip:"Whether the P list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().pInverted},set data(p){e(e().pInverted=p,!0)}})},$$slots:{default:!0}});var De=s(Fe,2);r(De,{label:"P Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().pWhitelist},set value(p){e(e().pWhitelist=p,!0)}})},$$slots:{default:!0}});var Be=s(De,2);r(Be,{label:"Q Inverted",tooltip:"Whether the Q list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().qInverted},set data(p){e(e().qInverted=p,!0)}})},$$slots:{default:!0}});var ze=s(Be,2);r(ze,{label:"Q Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().qWhitelist},set value(p){e(e().qWhitelist=p,!0)}})},$$slots:{default:!0}});var Ne=s(ze,2);r(Ne,{label:"F Inverted",tooltip:"Whether the F list should be used as a blacklist",children:(f,A)=>{M(f,{get data(){return e().fInverted},set data(p){e(e().fInverted=p,!0)}})},$$slots:{default:!0}});var Ye=s(Ne,2);r(Ye,{label:"F Whitelist",tooltip:"The materials that can be used as combo starters",children:(f,A)=>{O(f,{get value(){return e().fWhitelist},set value(p){e(e().fWhitelist=p,!0)}})},$$slots:{default:!0}}),k(c,L)}),E(()=>ae(Qe,g(n)?"expand_less":"expand_more")),pe("keypress",ie,c=>{c.key==="Enter"&&ge(n,!g(n))}),k(b,w)}),k(v,d),B()}Le(["click"]);var $t=(v,l,a)=>l(g(a)),yt=x('<div class="attr svelte-1ihs233" tabindex="0" role="button" aria-label="Remove Attribute" title="Remove Attribute"><div class="name svelte-1ihs233"> </div> <div class="value svelte-1ihs233"> </div></div>'),St=x('<div class="wrapper svelte-1ihs233"></div>'),Tt=x('<!> <!> <!> <div aria-label="Add Attribute" class="btn svelte-1ihs233" role="button" tabindex="0" title="Add Attribute">Add Attribute</div>',1);function Pt(v,l){D(l,!0);let a=H(l,"value",31,()=>be([])),o=Ke(be({name:"",base:0,scale:0}));const t=_=>{g(o).name&&(_&&_.type==="keypress"&&_.key!=="Enter"||(a([...a(),g(o)]),ge(o,be({name:"",base:0,scale:0}))))},e=_=>{a(a().filter(b=>b!==_))};var n=Tt(),i=R(n);F(i,()=>a().length>0,_=>{var b=St();le(b,21,a,ce,(C,y)=>{var S=yt();S.__click=[$t,e,y];var z=T(S),Q=T(z,!0);$(z);var V=s(z,2),U=T(V);$(V),$(S),E(()=>{ae(Q,g(y).name),ae(U,`${g(y).base??""}+(${g(y).scale??""})`)}),pe("keypress",S,()=>e(g(y))),k(C,S)}),$(b),k(_,b)});var m=s(i,2);r(m,{get value(){return g(o).name},set value(_){g(o).name=_},label:"Attribute Name",placeholder:"Attribute Name"});var u=s(m,2);r(u,{get label(){return`${g(o).name??""} Value`},children:(_,b)=>{j(_,{get value(){return g(o)},set value(w){ge(o,be(w))}})},$$slots:{default:!0}});var d=s(u,2);d.__click=t,E(()=>Ve(d,"disabled",!g(o).name)),pe("keypress",d,t),k(v,n),B()}Le(["click"]);var It=x('<!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <div class="header svelte-mjz973">Requirements</div> <!> <!> <!> <!> <!> <div class="header svelte-mjz973">Attribute Requirements</div> <!>',1);function xt(v,l){D(l,!0);const a=Ae(),o=()=>fe(e,"$skills",a);let t=H(l,"data",15);const e=Ce.skills;_e(()=>{var m;return(m=l.onsave)==null?void 0:m.call(l)});var n=de(),i=R(n);F(i,t,m=>{var u=It(),d=R(u);r(d,{label:"Name",tooltip:"The name of the skill. This should not contain color codes",get value(){return t().name},set value(h){t(t().name=h,!0)}});var _=s(d,2);r(_,{label:"Type",tooltip:'The flavor text describing the skill such as "AOE utility" or whatever you want it to be',get value(){return t().type},set value(h){t(t().type=h,!0)}});var b=s(_,2);r(b,{label:"Max Level",tooltip:"The maximum level the skill can reach",get value(){return t().maxLevel},set value(h){t(t().maxLevel=h,!0)}});var w=s(b,2);r(w,{label:"Cost",tooltip:"The amount of skill points needed to unlock and upgrade this skill",children:(h,q)=>{j(h,{get value(){return t().cost},set value(P){t(t().cost=P,!0)}})},$$slots:{default:!0}});var C=s(w,2);r(C,{label:"Cooldown",tooltip:"The time in seconds before the skill can be cast again (only works with the Cast trigger)",children:(h,q)=>{j(h,{get value(){return t().cooldown},set value(P){t(t().cooldown=P,!0)}})},$$slots:{default:!0}});var y=s(C,2);r(y,{label:"Cooldown Message",tooltip:"Whether to send a message when attempting to run the skill while in cooldown",children:(h,q)=>{M(h,{get data(){return t().cooldownMessage},set data(P){t(t().cooldownMessage=P,!0)}})},$$slots:{default:!0}});var S=s(y,2);r(S,{label:"Mana",tooltip:"The amount of mana it takes to cast the skill (only works with the Cast trigger)",children:(h,q)=>{j(h,{get value(){return t().mana},set value(P){t(t().mana=P,!0)}})},$$slots:{default:!0}});var z=s(S,2);r(z,{label:"Cast Message",tooltip:"The message to display to players around the caster when the skill is cast. The radius of the area is in the config.yml options",get value(){return t().castMessage},set value(h){t(t().castMessage=h,!0)}});var Q=s(z,2);r(Q,{label:"Combo",tooltip:'The click combo to assign the skill (if enabled). Use L, R, S, LS, RS, P, Q and F for the types of clicks separated by spaces. For example, "L L R R" would work for 4 click combos.',get value(){return t().combo},set value(h){t(t().combo=h,!0)}});var V=s(Q,2);We(V,{get icon(){return t().icon},set icon(h){t(t().icon=h,!0)}});var U=s(V,2);r(U,{label:"Incompatible",tooltip:"List of skills that must not be upgraded in order to upgrade this skill",children:(h,q)=>{var P=K(()=>o().filter(N=>N!==t()));ee(h,{multiple:!0,get data(){return g(P)},get selected(){return t().incompatible},set selected(N){t(t().incompatible=N,!0)}})},$$slots:{default:!0}});var se=s(U,4);r(se,{label:"Skill Requirement",tooltip:"The skill that needs to be upgraded before this one can be unlocked",children:(h,q)=>{var P=K(()=>o().filter(N=>N!==t()));ee(h,{id:"skillReq",get selected(){return t().skillReq},set selected(N){t(t().skillReq=N,!0)},get data(){return g(P)}})},$$slots:{default:!0}});var ve=s(se,2);r(ve,{label:"Skill Req Level",tooltip:"The level that the required skill needs to reach before this one can be unlocked",get value(){return t().skillReqLevel},set value(h){t(t().skillReqLevel=h,!0)}});var oe=s(ve,2);r(oe,{label:"Permission",get tooltip(){return`Whether this skill requires a permission to unlock. The permission would be "skillapi.skill.${t().name??""}"`},children:(h,q)=>{M(h,{get data(){return t().permission},set data(P){t(t().permission=P,!0)}})},$$slots:{default:!0}});var re=s(oe,2);r(re,{label:"Level Req",tooltip:"The class level the player needs to be before unlocking or upgrading this skill",children:(h,q)=>{j(h,{get value(){return t().levelReq},set value(P){t(t().levelReq=P,!0)}})},$$slots:{default:!0}});var ne=s(re,2);r(ne,{label:"Min Spent",tooltip:"The amount of skill points that need to be spent before upgrading this skill",children:(h,q)=>{j(h,{get value(){return t().minSpent},set value(P){t(t().minSpent=P,!0)}})},$$slots:{default:!0}});var he=s(ne,4);Pt(he,{get value(){return t().attributeRequirements},set value(h){t(t().attributeRequirements=h,!0)}}),k(m,u)}),k(v,n),B()}var wt=x('<div class="stat svelte-19i6c7i"><div class="btn-del svelte-19i6c7i"><!></div> <!> <!></div>');function Ct(v,l){D(l,!0);let a=H(l,"stat",15);var o=wt(),t=T(o),e=T(t);te(e,{title:"Delete stat",icon:"delete",color:"red",onclick:()=>l.component.removeStat(a()),onkeypress:()=>l.component.removeStat(a())}),$(t);var n=s(t,2);r(n,{label:"Option",tooltip:"Attribute option to modify based on attribute value",children:(m,u)=>{ee(m,{get selected(){return a().key},set selected(d){a(a().key=d,!0)},get data(){return l.component.availableStats},multiple:!1})},$$slots:{default:!0}});var i=s(n,2);xe(i,{get data(){return a().formula},set data(m){a(a().formula=m,!0)},name:"Formula",tooltip:"Formula to modify the option by"}),$(o),k(v,o),B()}var At=x('<div class="component svelte-k4qkgo"><div class="componentTitle svelte-k4qkgo"><!></div> <!> <div class="controls svelte-k4qkgo"><!> <!></div></div>');function Lt(v,l){D(l,!0);let a=H(l,"component",7);_e(()=>a().section.attribute.save());var o=At(),t=T(o),e=T(t);r(e,{label:"Component",tooltip:"The component to modify options to",children:(d,_)=>{ee(d,{get selected(){return a().name},set selected(b){a().name=b},get data(){return l.section.availableComponents},multiple:!1})},$$slots:{default:!0}}),$(t);var n=s(t,2);le(n,17,()=>a().stats,ce,(d,_)=>{Ct(d,{get stat(){return g(_)},get component(){return a()}})});var i=s(n,2),m=T(i);F(m,()=>a().availableStats.length>0,d=>{te(d,{title:"Add Stat",icon:"add",color:"gray",onclick:()=>a().addStat(a().availableStats[0]),onkeypress:()=>a().addStat(a().availableStats[0])})});var u=s(m,2);te(u,{title:"Delete Component",icon:"delete",color:"red",onclick:()=>l.section.removeComponent(a()),onkeypress:()=>l.section.removeComponent(a())}),$(i),$(o),E(()=>et(o,"--comp-color",l.color)),k(v,o),B()}var Wt=x('<div class="btn svelte-1y16mx6"><!></div>'),Rt=x('<div class="section svelte-1y16mx6"><div class="header svelte-1y16mx6"> </div> <!> <!></div>');function Pe(v,l){D(l,!0);let a=l.name==="Target"?"#04af38":l.name==="Condition"?"#feac00":"#ff3a3a";var o=Rt(),t=T(o),e=T(t);$(t);var n=s(t,2);le(n,17,()=>l.section.components,ce,(m,u)=>{Lt(m,{color:a,get component(){return g(u)},get section(){return l.section}})});var i=s(n,2);F(i,()=>l.section.availableComponents.length>0,m=>{var u=Wt(),d=T(u),_=K(()=>`Add ${l.name}`);te(d,{get title(){return g(_)},icon:"add",color:a,onclick:()=>l.section.addComponent(l.section.availableComponents[0]),onkeypress:()=>l.section.addComponent(l.section.availableComponents[0])}),$(u),k(m,u)}),$(o),E(()=>ae(e,`${l.name??""} modifiers`)),k(v,o),B()}var qt=x('<div class="stat svelte-yzok5e"><div class="btn-del svelte-yzok5e"><!></div> <!> <!></div>');function Mt(v,l){D(l,!0);let a=H(l,"stat",15);var o=qt(),t=T(o),e=T(t);te(e,{title:"Delete stat",icon:"delete",color:"red",onclick:()=>l.stats.removeStat(a()),onkeypress:()=>l.stats.removeStat(a())}),$(t);var n=s(t,2);xe(n,{get data(){return a().key},set data(m){a(a().key=m,!0)},name:"Stat",tooltip:"Attribute option to modify based on attribute value"});var i=s(n,2);xe(i,{get data(){return a().formula},set data(m){a(a().formula=m,!0)},name:"Formula",tooltip:"Formula to modify the option by"}),$(o),k(v,o),B()}var Ft=x('<div class="stats svelte-3opmim"><div class="header svelte-3opmim">Stat modifiers</div> <!> <div class="btn svelte-3opmim"><!></div></div>');function Dt(v,l){D(l,!0);let a=H(l,"stats",15);var o=Ft(),t=s(T(o),2);le(t,17,()=>a().stats,ce,(i,m)=>{Mt(i,{get stats(){return a()},set stats(u){a(u)},get stat(){return g(m)}})});var e=s(t,2),n=T(e);te(n,{color:"gray",icon:"add",onclick:()=>a().addStat(),onkeypress:()=>a().addStat(),title:"Add Stat"}),$(e),$(o),k(v,o),B()}var Bt=x("<!> <!> <!> <!> <!> <!> <!> <!> <!>",1);function zt(v,l){D(l,!0);let a=H(l,"data",15);_e(()=>{var e;return(e=l.onsave)==null?void 0:e.call(l)});var o=de(),t=R(o);F(t,a,e=>{var n=Bt(),i=R(n);r(i,{label:"Name",tooltip:"The name of the attribute. This should not contain color codes",get value(){return a().name},set value(S){a(a().name=S,!0)}});var m=s(i,2);r(m,{label:"Display",tooltip:"The name of the attribute as it will be displayed in the game",get value(){return a().display},set value(S){a(a().display=S,!0)}});var u=s(m,2);r(u,{label:"Max",tooltip:"The maximum points of this attribute that a player can have",get value(){return a().max},set value(S){a(a().max=S,!0)}});var d=s(u,2);r(d,{label:"Cost",tooltip:"How many attribute points it costs to upgrade the attribute, increasing with the level of the attribute",children:(S,z)=>{j(S,{get value(){return a().cost}})},$$slots:{default:!0}});var _=s(d,2);We(_,{get icon(){return a().icon},set icon(S){a(a().icon=S,!0)}});var b=s(_,2);Pe(b,{name:"Target",get section(){return a().targets}});var w=s(b,2);Pe(w,{name:"Condition",get section(){return a().conditions}});var C=s(w,2);Pe(C,{name:"Mechanic",get section(){return a().mechanics}});var y=s(C,2);Dt(y,{get stats(){return a().stats}}),k(e,n)}),k(v,o),B()}var Nt=x('<a class="material-symbols-rounded chip edit-skill svelte-191pm8d">auto_fix</a>'),jt=x('<h1 class="svelte-191pm8d"> <!></h1> <hr> <div class="container svelte-191pm8d"><!></div>',1);function Gt(v,l){D(l,!0);const a=()=>l.data.data.save();var o=jt();st(u=>{E(()=>ot.title=`Fabled Dynamic Editor - ${l.data.data.name??""}`)});var t=R(o),e=T(t),n=s(e);F(n,()=>{var u;return((u=l.data)==null?void 0:u.data)instanceof je},u=>{var d=Nt();E(()=>at(d,"href",`${lt??""}/skill/${l.data.data.name??""}`)),k(u,d)}),$(t);var i=s(t,4),m=T(i);F(m,()=>{var u;return((u=l.data)==null?void 0:u.data)instanceof tt},u=>{kt(u,{get data(){return l.data.data},onsave:a})},u=>{var d=de(),_=R(d);F(_,()=>{var b;return((b=l.data)==null?void 0:b.data)instanceof je},b=>{xt(b,{get data(){return l.data.data},onsave:a})},b=>{var w=de(),C=R(w);F(C,()=>{var y;return((y=l.data)==null?void 0:y.data)instanceof Ie},y=>{zt(y,{get data(){return l.data.data},onsave:a})},null,!0),k(b,w)},!0),k(u,d)}),$(i),E(()=>{var u,d;return ae(e,`${((d=(u=l.data)==null?void 0:u.data)==null?void 0:d.name)??""} `)}),k(v,o),B()}export{Gt as component,Yt as universal};
